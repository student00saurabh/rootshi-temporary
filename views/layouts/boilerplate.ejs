<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title><%= meta.title %></title>

  <link rel="manifest" href="/manifest.json">
  <!-- Primary Meta Tags -->
  <meta name="title" content="<%= meta.title %>" />
  <meta
    name="description"
    content="<%= meta.description %>"
  />
  <meta
    name="keywords"
    content="<%= meta.keywords %>"
  />
  <meta name="author" content="Saurabh Mishra" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Facebook / LinkedIn / WhatsApp -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="<%= requestUrl %>" />
  <meta property="og:title" content="<%= meta.title %>" />
  <meta
    property="og:description"
    content="<%= meta.description %>"
  />
  <meta property="og:image" content="<%= meta.image || '/images/logo.png' %>" />
  <meta property="og:site_name" content="RootShield" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="<%= requestUrl %>" />
  <meta property="twitter:title" content="<%= meta.title %>" />
  <meta
    property="twitter:description"
    content="<%= meta.description %>"
  />
  <meta property="twitter:image" content="<%= meta.image || '/images/logo.png' %>" />



  <!-- Favicons -->
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png" />
  <link rel="manifest" href="/images/site.webmanifest" />
  <link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#10b981" />
  <meta name="msapplication-TileColor" content="#1ecbe1" />
  <meta name="theme-color" content="#1bb9cd" />

  <meta name="google-site-verification" content="8n3XxgtF0QHGEe4Ivf9u4TMHAvFjcWXOGrzaGNSMMXY" />
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;700;800&display=swap"
    rel="stylesheet"
  />

  <!-- AOS Animation -->
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />

  <!-- Compiled CSS -->
  <link rel="stylesheet" href="/css/output.css" />

  <!-- Smooth Theme Transition -->
  <style>
    html, body {
      transition: background-color 0.25s ease, color 0.25s ease;
    }
  </style>

  

  <!-- Dark Mode Detection -->
  <script>
    if (localStorage.theme === "dark") {
      document.documentElement.classList.add("dark");
    }
  </script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/service-worker.js");
  }
</script>

<!-- Google Adsense script -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7690683875434042"
     crossorigin="anonymous"></script>

</head>

<body class="font-sans bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-300">
<style>
  #splash {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg, white, #1ecbe1);
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  z-index: 9999;
  animation: hideSplash 1s ease 2.5s forwards;
}

.logo {
  width: 130px;
  animation: bounceIn 1.2s ease;
  z-index: 2;
}

/* Floating blobs */

.blob {
  position: absolute;
  width: 300px;
  height: 300px;
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  animation: float 6s infinite alternate ease-in-out;
}

.blob1 { top: -80px; left: -80px; }
.blob2 { bottom: -80px; right: -80px; }

@keyframes bounceIn {
  0% { transform: scale(0); }
  60% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

@keyframes float {
  from { transform: translateY(0); }
  to { transform: translateY(60px); }
}

@keyframes hideSplash {
  to {
    opacity: 0;
    visibility: hidden;
  }
}

</style>

<% if(showsplash){ %>
  <div id="splash">
    <div class="blob blob1"></div>
    <div class="blob blob2"></div>

    <img src="images/logo.png" class="logo" />
  </div>
  <% } %>

  <!-- Navbar -->
  <%- include("../includes/navbar.ejs") %>

  <!-- Flash Messages + Page Content -->
  <main class="w-full min-h-screen">
    <%- include("../includes/flash.ejs") %>
    <%- body %>
  </main>

  <!-- Footer -->
  <%- include("../includes/footer.ejs") %>

  <!-- AOS -->
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script>
    AOS.init({ once: true, duration: 700, easing: "ease-out-cubic" });
  </script>

  <!-- App Script -->
  <script src="/js/script.js"></script>

</body>
</html>
